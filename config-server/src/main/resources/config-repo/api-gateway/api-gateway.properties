# API Gateway - Default Configuration (for local development)
# All configuration is centralized here in Config Server

# Server Configuration
server.port=8080

# Spring Cloud Gateway Configuration
spring.webflux.static-path-pattern=/nonexistent/**
spring.web.resources.add-mappings=false

# Note: Gateway routes and CORS are complex nested structures
# These are better configured in application.yml or via YAML format
# For now, keep routes in api-gateway's bootstrap application.yml
# This file contains other gateway-specific configs

# Redis Configuration
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.timeout=2s

# JWT Configuration
jwt.secret=${JWT_SECRET:}
jwt.expiration=86400000

# Management/Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics,gateway
management.endpoint.health.show-details=always

# Logging Configuration (can be changed dynamically via /actuator/refresh)
logging.level.root=INFO
logging.level.com.codejam.gateway=DEBUG  # More verbose for local dev
logging.level.org.springframework.cloud.gateway=DEBUG
logging.level.org.springframework.web=WARN

# Gateway-specific configs
# CORS origins can be updated dynamically
gateway.cors.allowed-origins=http://localhost:3000,http://localhost:5173

# Rate limiting (disabled for local dev)
gateway.rate-limit.enabled=false
gateway.rate-limit.requests-per-second=100
